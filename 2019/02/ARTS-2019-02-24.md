
 [Algorithm Student Attendance Recoder](#algorithm)

 [Review](#review)

 [Technique Spark读取ES RDD索引不存在报错解决](#technique)

 [Share](#share)


# Algorithm

https://leetcode.com/problems/student-attendance-record-i/
根据特定的字符串，判断一个学生的出勤记录是否会得到奖励

```java
package leetcode.easy.string_all;

public class StudentAttendanceRecoder {


    public static boolean checkRecord(String s) {
        if(!s.contains("LLL")&&(s.indexOf("A")==s.lastIndexOf("A"))){
            return true;
        }
      return false;
    }


    public static boolean checkRecord2(String s) {
         return  !s.matches(".*LLL.*|.*A.*A.*");
    }



    public static void main(String[] args) {


        System.out.println(checkRecord("PPALLL"));

    }


}

```


# Review


# Technique

ES的官网配置地址：
https://www.elastic.co/guide/en/elasticsearch/hadoop/current/configuration.html

spark读取ES RDD，如果索引不存在会抛出错误还是返回空的数据，这个可以设置某个参数来解决，如下：
```scala
    val spark = SparkSession
      .builder().master("local[3]").appName("spark teach real time job")
      .config("spark.serializer", "org.apache.spark.serializer.KryoSerializer")
      .config("es.nodes",ConfigTools.cfg.getString("es.ips"))
      .config("es.port",ConfigTools.cfg.getString("es.port"))
      .config("es.index.read.missing.as.empty","true")//加上这行
//      .enableHiveSupport()
      .getOrCreate()
```


# Share





